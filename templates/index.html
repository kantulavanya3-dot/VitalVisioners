<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anemia Risk Assessment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root {
            --bg-start: #0a0e1f;
            --bg-end:   #00050f;
            --glass:    rgba(255, 255, 255, 0.04);
            --border:   rgba(255, 255, 255, 0.10);
            --blur:     20px;
            --radius:   22px;
            --text:     #ffffff;
            --label:    rgba(255, 255, 255, 0.70);
        }

        body {
            background: linear-gradient(150deg, var(--bg-start), var(--bg-end));
            /* Best subtle medical/AI dark abstract background – faint hex + gradient (royalty-free from Unsplash-like sources) */
            background-image: 
                url('https://images.unsplash.com/photo-1557683316-973673baf926?auto=format&fit=crop&q=80&w=2000'),
                linear-gradient(150deg, var(--bg-start), var(--bg-end));
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
            color: var(--text);
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", Helvetica, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Optional dark overlay for better contrast/readability on glass */
        body::before {
            content: "";
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.45); /* tune 0.35–0.55 depending on image brightness */
            z-index: -1;
        }

        .container {
            max-width: 480px;
            padding: 2rem 1rem;
            z-index: 1;
        }

        .card {
            background: var(--glass);
            backdrop-filter: blur(var(--blur));
            -webkit-backdrop-filter: blur(var(--blur));
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 2.8rem 2.2rem;
            box-shadow: 0 6px 35px rgba(0, 0, 0, 0.18);
        }

        h2 {
            font-size: 1.7rem;
            font-weight: 500;
            text-align: center;
            margin-bottom: 2.4rem;
            letter-spacing: -0.2px;
            color: #ffffff;
        }

        .form-label {
            font-size: 0.98rem;
            font-weight: 500;
            color: var(--label);
            margin-bottom: 0.5rem;
        }

        .form-control,
        .form-select {
            background: rgba(255, 255, 255, 0.04) !important;
            border: 1px solid rgba(255, 255, 255, 0.14) !important;
            color: #ffffff !important;              /* Forced white text – fixes visibility */
            border-radius: 14px;
            padding: 0.85rem 1.2rem;
            font-size: 1.08rem;
            transition: border-color 0.2s ease;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: rgba(255, 255, 255, 0.32) !important;
            box-shadow: none;
            background: rgba(255, 255, 255, 0.06) !important;
        }

        .form-control::placeholder {
            color: rgba(255, 255, 255, 0.45) !important;   /* Slightly brighter placeholder */
        }

        .btn-primary {
            background: rgba(255, 255, 255, 0.10);
            border: 1px solid rgba(255, 255, 255, 0.18);
            color: #ffffff;
            font-weight: 500;
            font-size: 1.12rem;
            border-radius: 16px;
            padding: 0.95rem;
            margin-top: 1.8rem;
            backdrop-filter: blur(8px);
            transition: all 0.25s ease;
        }

        .btn-primary:hover {
            background: rgba(255, 255, 255, 0.18);
            border-color: rgba(255, 255, 255, 0.32);
        }

        .result {
            margin-top: 2.2rem;
            padding: 1.3rem;
            border-radius: 14px;
            font-size: 1.12rem;
            text-align: center;
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255,255,255,0.10);
        }

        .result-positive {
            color: #ffbbcc;
            background: rgba(200, 20, 60, 0.14);
            border-left: 4px solid #ff4d6d;
        }

        .result-negative {
            color: #bbffc9;
            background: rgba(20, 140, 70, 0.14);
            border-left: 4px solid #4caf50;
        }

        .mb-4 { margin-bottom: 1.9rem !important; }
    </style>
</head>
<body>

<div class="container">
    <div class="card">
        <h2>Anemia Risk Assessment</h2>

        <form action="/predict" method="post">
            <div class="mb-4">
                <label class="form-label">Gender</label>
                <select name="Gender" class="form-select" required>
                    <option value="">Select</option>
                    <option value="1">Male</option>
                    <option value="0">Female</option>
                </select>
            </div>

            <div class="mb-4">
                <label class="form-label">Hemoglobin (g/dL)</label>
                <input type="number" step="any" name="Hemoglobin" class="form-control" required placeholder="e.g. 13.5">
            </div>

            <div class="mb-4">
                <label class="form-label">MCH (pg)</label>
                <input type="number" step="any" name="MCH" class="form-control" required placeholder="e.g. 28.0">
            </div>

            <div class="mb-4">
                <label class="form-label">MCHC (g/dL)</label>
                <input type="number" step="any" name="MCHC" class="form-control" required placeholder="e.g. 33.2">
            </div>

            <div class="mb-4">
                <label class="form-label">MCV (fL)</label>
                <input type="number" step="any" name="MCV" class="form-control" required placeholder="e.g. 85.0">
            </div>

            <button type="submit" class="btn btn-primary w-100">
                Assess Risk
            </button>
        </form>

        {% if prediction_text %}
            <div class="result {% if "Positive" in prediction_text %}result-positive{% else %}result-negative{% endif %}">
                {{ prediction_text }}
            </div>
        {% endif %}
    </div>
</div>

</body>
</html>
